package com.phoneList.test;

import java.util.List;

import javax.persistence.EntityManager;

import com.phoneList.DAO.OperadoraDAO;
import com.phoneList.DAO.TelefoneDAO;
import com.phoneList.DAOImpl.OperadoraDAOImpl;
import com.phoneList.DAOImpl.TelefoneDAOImpl;
import com.phoneList.entity.Operadora;
import com.phoneList.entity.Telefone;
import com.phoneList.singleton.EntityManagerFactorySingleton;

/**
 * 
 * @author edneyroldao
 *
 *	Classe que realiza uma pequena carga no banco para os Testes.
 *	OBS: Atencao com o formato da data
 *
 */
public class StartDatabase {
	
	static EntityManager em = EntityManagerFactorySingleton.getInstance().createEntityManager();
	
	public static void main(String[] args) {
		
		OperadoraDAO operadoraDAO = new OperadoraDAOImpl(em);
		TelefoneDAO telefoneDAO = new TelefoneDAOImpl(em);
		
		operadoraDAO.insert(new Operadora("Tim", 25, "celular", 22.00f));
		operadoraDAO.insert(new Operadora("Vivo", 15, "celular", 20.00f));
		operadoraDAO.insert(new Operadora("Claro", 30, "celular", 15.00f));
		operadoraDAO.insert(new Operadora("Oi", 35, "celular", 5.500f));
		List<Operadora> operadoras = operadoraDAO.findAll();
		telefoneDAO.insert(new Telefone("Edney", "99999-9999", "segunda-feira 04-01-2016", operadoras.get(0)));
		telefoneDAO.insert(new Telefone("Giselle", "88888-8888", "segunda-feira 04-01-2016", operadoras.get(1)));
		telefoneDAO.insert(new Telefone("Nadine", "7777-7777", "segunda-feira 04-01-2016", operadoras.get(2)));
		telefoneDAO.insert(new Telefone("Marjorie", "6666-6666", "segunda-feira 04-01-2016", operadoras.get(3)));
		operadoraDAO.insert(new Operadora("Embratel", 40, "fixo", 10.00f));
		operadoraDAO.insert(new Operadora("GVT", 45, "fixo", 5.00f));
		System.out.println("finished");
	}

}
